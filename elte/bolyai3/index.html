<!DOCTYPE HTML>
<!--[if IE 6]>
<html id="ie6" lang="en-US" class="ie ie6 lt-ie9">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US" class="ie ie7 lt-ie9">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US" class="ie ie8 lt-ie9">
<![endif]-->
<!--[if gte IE 9]>
<html lang="en-US" class="ie ie9">
<![endif]-->
<!--[if !(IE)]><!-->
<html lang="en-US" class="">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1.0 minimal-ui">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="author" content="marcolago">

	<meta property="og:title" content="Flowtime.js A HTML Presentation Framework">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://marcolago.github.io/flowtime.js/">
	<meta property="og:image" content="http://marcolago.github.io/flowtime.js/assets/img/share-image.jpg">
	<meta property="og:site_name" content="Scala">
	<meta property="fb:admins" content="1293500397">

	<meta name="twitter:card" content="summary">
	<meta name="twitter:url" content="https://marcolago.github.io/flowtime.js/">
	<meta name="twitter:title" content="Flowtime.js - A HTML Presentation Framework">
	<meta name="twitter:description" content="Flowtime.js is an open source framework for easily build HTML presentations or websites. It’s built with web standards in mind and on top of a solid full page grid layout powered by CSS3 hardware accelerated transition and comes with a complete set of Javascript API for deep customization.">
	<meta name="twitter:image" content="http://marcolago.github.io/flowtime.js/assets/img/share-image.jpg">
	<meta name="twitter:creator" content="@marcolago">

	<meta name="description" content="Flowtime.js is an open source framework for easily build HTML presentations or websites. It’s built with web standards in mind and on top of a solid full page grid layout powered by CSS3 hardware accelerated transition and comes with a complete set of Javascript API for deep customization.">

	<title>Flowtime.js</title>
	<link rel="stylesheet" href="infra/assets/css/reset.css">
	<link rel="stylesheet" href="infra/css/flowtime.css">
	<link rel="stylesheet" href="infra/css/themes/default.css">
	<link rel="stylesheet" href="infra/assets/css/prism.css">


	<link rel="apple-touch-icon-precomposed" 						href="infra/img/touch-icon-iphone.png">
	<link rel="apple-touch-icon-precomposed" 	sizes="72x72" 		href="infra/img/touch-icon-ipad.png">
	<link rel="apple-touch-icon-precomposed" 	sizes="114x114" 	href="infra/img/touch-icon-iphone-retina.png">
	<link rel="apple-touch-icon-precomposed" 	sizes="144x144" 	href="infra/img/touch-icon-ipad-retina.png">

	<link rel="apple-touch-startup-image" href="infra/img/startup-640x920.png" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)">
	<link rel="apple-touch-startup-image" href="infra/img/startup-640x1096.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
	<link rel="stylesheet" href="infra/highlight/styles/default.css">
        <script src="infra/highlight/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

</head>
<body class="">

	<div class="flowtime">
		<div class="ft-section" data-id="section-1">
			<div id="/section-1/page-1" class="ft-page" data-id="page-1" data-title="Scala">
				<div class="stack-center">
					<div class="stacked-center">
						<p class="page-title">Scala</p>
						<img src="infra/img/scala_logo.png">
					</div>
				</div>
			</div>
			<div id="/section-1/page-2" class="ft-page" data-id="page-2">
				<h1>Mai temak</h1>
				<p class="ft-fragment">Free monadok</p>
			</div>
                </div>
                
                <div class="ft-section" data-id="section-3">
                    <div id="/section-3/page-1" class="ft-page" data-id="page-1">
                        <h1>Monad</h1>
                        <p class="ft-fragment">A monad is just a monoid in the category of endofunctors, what's the problem?</p>
                        <p class="ft-fragment">Funkcionalis programozasi pattern</p>
                        <p class="ft-fragment">Szamitasok lancolata</p>
                        <p class="ft-fragment">Allapotvaltozasok kifejezesere</p>
                        <p class="ft-fragment">Allapot a monadban</p>
                        <div class="ft-fragment"><p>Tipuskonstruktor</p><pre><code class="scala">T => Monad[T]</code></pre></div>
                        <div class="ft-fragment"><p>Unit</p><pre><code class="scala">x: T => Monad(x): Monad[T]</code></pre></div>
                        <div class="ft-fragment"><p>Bind</p><pre><code class="scala">A, B, Monad[A]: Monad[A] => Monad[B]</code></pre></div>
                    </div>
                    <div id="/section-3/page-2" class="ft-page" data-id="page-2">
                           <h1>Scala monad</h1>
				<div class="ft-fragment"><pre><code class="scala">trait Monad[A] {
  def flatMap[B](f: A => Monad[B]): Monad[B]
}
object Monad {
  def apply[A](x: A): Monad[A]
}</code></pre>
                                </div>  
                    </div>
                    <div id="/section-3/page-3" class="ft-page" data-id="page-3">
                           <h1>Maybe Monad</h1>
				<p class="ft-fragment">Maybe/Just/Missing (Nothing-ot probaljuk ne tulterhelni)</p>
				<div class="ft-fragment"><pre><code class="scala">trait Maybe[+A] {
    def flatMap[B](f: A => Maybe[B]): Maybe[B]
}
object Missing extends Maybe[Nothing] {
    def flatMap[B](f: Nothing => Maybe[B]) = Missing
}
case class Just[+A] private (v: A) extends Maybe[A] {
    override def flatMap[B](f: A => Maybe[B]): Maybe[B] = f(v)
}
case object Just {
    def apply[A](v: A) = new Just(v)
}</code></pre>
                                </div>  
                    </div>
                    <div id="/section-3/page-3" class="ft-page" data-id="page-3">
                           <h1>Funktor es free monad</h1>
				<p class="ft-fragment">Funktor: egy struktura belsejet tudja atalakitani anelkul, hogy a strukturat megvaltoztatna</p>
				<div class="ft-fragment"><pre><code class="scala">trait Functor[F[_]] {
  def map[A,B](a: F[A])(f: A => B): F[B]
}</code></pre>
                                </div>
                    <p class="ft-fragment">Free monad: egy monad, amit egy funktorbol kepzunk, es barmilyen mas monadda atalkithatjuk</p>
                    <div class="ft-fragment"><pre><code class="scala">sealed trait Free[F[_], A]
final case class Point[F[_], A](a: A) extends Free[F, A]
final case class Join[F[_], A](s: F[Free[F, A]]) extends Free[F, A]</code></pre>
                                </div>
                    <p class="ft-fragment">Free monadokat interpretalni szukseges</p>
                    </div>
                    <div id="/section-3/page-4" class="ft-page" data-id="page-4">
                            <h1>SQL muveletek mint free monad</h1>
                            <div class="ft-fragment"><pre><code class="scala">case class SqlOp[A](op: Connection => A) // Ez egy SQL muvelet
// A SQL muvelet Functor, ami leirja a muveletet
implicit object SqlOpFunctor extends Functor[SqlOp] {
    def map[A,B](a: SqlOp[A])(g: A => B) = SqlOp[B]((c:Connection) => g(a.op(c)))
}
type Sql[A] = Free[SqlOp,A] // A free monadunk

// A kulonbozo SqlOp-ok kiemelese free monadda - ezek nem commitolhatnak!
def sqlop1(): Sql[Boolean] = Free.liftF(SqlOp((conn:java.sql.Connection) => {
    println("Running SQL OP1")
    true
}))
def sqlop2(): Sql[Boolean] = Free.liftF(SqlOp((conn:java.sql.Connection) => {
    println("Running SQL OP2")
    true
}))
def emptysqlop(): Sql[Boolean] = Free.liftF(SqlOp((conn:java.sql.Connection) => {
    println("Running Empty SQL")
    true
}))

// A tranzakcionk SqlOp-ok kompozicioja
def myTransaction(): Sql[Boolean] = for {
    condition &lt;- sqlop1()
    _ &lt;- if (condition) sqlop2() else emptysqlop()
} yield condition

myTransaction() // nem futtat meg le semmit, kell egy interpreter, ami tudja, hogyan kell banni a monadunkkal
  
// Az interpreter - az implicit funktor itt kerul atadasra
def runTransactionImpl[A](conn: Connection, trans: Sql[A]): A = trans.fold(
    (a: A) => a, // egy muvelettel mit kell kezdeni (=pointnak is hivjak)
    (x: SqlOp[Sql[A]]) => runTransactionImpl(conn, x.op(conn)) // hogyan kell tovabbhaladni a kovetkezo muveletre
)

def runTransaction[A](conn: Connection, trans: Sql[A]): Try[A] = {
    try {
      val result: A = runTransactionImpl(conn, trans)
      conn.commit()
      Success(result)
    } catch {
      case (e:Exception) =&lt; {
        conn.rollback()
        Failure(e)
      }
    } finally {
      conn.close()
    }
  }

// Itt valoban vegrehajtjuk a tranzakciot
runTransaction(DB.connect(), myTransaction())</code></pre></div>
                    </div>
                </div>
                

<!-- 	<a href="https://github.com/marcolago/flowtime.js"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 1000;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a> -->

	<script src="infra/js/brav1toolbox.js"></script>
	<script src="infra/js/flowtime.js"></script>
	<!-- <script src="js/flowtime.min.js"></script> -->
	<script src="infra/assets/js/prism.js"></script>

	<script type="text/javascript">
		var cacheTitle = document.title.replace("Flowtime.js | ", "");
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-1228618-10']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_trackEvent', 'Flowtime', 'Landing', document.title]);
		(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

		// Configuration API test
		Flowtime.showProgress(true);
		// Flowtime.fragmentsOnSide(true);
		// Flowtime.fragmentsOnBack(true);
		// Flowtime.useHistory(false);
		// Flowtime.slideInPx(true);
		// Flowtime.sectionsSlideToTop(true);
		// Flowtime.backFromPageToTop(true);
		// Flowtime.gridNavigation(false);
		// Flowtime.useOverviewVariant(true);
		// Flowtime.parallaxInPx(true);
		//
		// event management
		// Flowtime.addEventListener("flowtimenavigation", onNavigation, false);
		Flowtime.onNavigation(onNavigation);
		// starts the application with configuration options
		Flowtime.start();
	</script>
</body>
</html>
